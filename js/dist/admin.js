(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["admin/app"];var a=t.n(e);a().initializers.add("wszdb/flarum-autolock",function(){a().extensionData.for("wszdb-autolock").registerSetting({setting:"wszdb-autolock.enabled",type:"boolean",label:a().translator.trans("wszdb-autolock.admin.settings.enabled_label"),help:a().translator.trans("wszdb-autolock.admin.settings.enabled_help")}).registerSetting({setting:"wszdb-autolock.threshold",type:"number",label:a().translator.trans("wszdb-autolock.admin.settings.threshold_label"),help:a().translator.trans("wszdb-autolock.admin.settings.threshold_help"),min:1,placeholder:"100"}).registerSetting(function(){var t=this,e=this,s=a().store.all("tags"),r=function(){var e=t.setting("wszdb-autolock.exempt_tags")()||"[]";try{return e?JSON.parse(e):[]}catch(t){return console.error("[Auto Lock] Failed to parse exempt tags:",t),[]}},n=r();return m("div",{className:"Form-group"},[m("label",a().translator.trans("wszdb-autolock.admin.settings.exempt_tags_label")),m("div",{className:"helpText"},a().translator.trans("wszdb-autolock.admin.settings.exempt_tags_help")),m("div",{style:"margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px;"},s.length>0?s.map(function(t){var s=parseInt(t.id()),o=n.includes(s),l=t.name();if(t.parent())try{var i=a().store.getById("tags",t.parent().id());i&&(l=i.name()+"@"+l)}catch(t){}return m("div",{className:"checkbox",style:"margin-bottom: 8px; white-space: nowrap; flex: 1 1 auto;"},[m("label",{style:"display: flex; align-items: center; cursor: pointer;"},[m("input",{type:"checkbox",checked:o,onchange:function(t){var a=t.target.checked,n=r();a?n.includes(s)||n.push(s):n=n.filter(function(t){return t!==s});var o=JSON.stringify(n);e.setting("wszdb-autolock.exempt_tags")(o),"function"==typeof e.dirty&&e.dirty(),m.redraw(),console.log("[Auto Lock] Tags updated:",{tagId:s,checked:a,exemptTags:n})}}),m("span",{style:"margin-left: 5px;"},l)])])}):m("div",{className:"helpText"},a().translator.trans("wszdb-autolock.admin.settings.no_tags_found")))])})})})(),module.exports={}})();
//# sourceMappingURL=admin.js.map